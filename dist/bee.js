!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Bee=t()}(this,function(){"use strict";function e(e){return null===e||"object"!=typeof e&&!Array.isArray(e)}function t(e){return e.replace(l,"").replace(d,",").replace(g,"").replace(h,"").replace(v,"").split(y)}function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}function o(t,n,r){void 0===r&&(r="");for(var i=Object.keys(t),a=0,u=i.length;a<u;a++){var c=i[a];n(t[c],""+(r?r+".":"")+c),e(t[c])||o(t[c],n,""+(r?r+".":"")+c)}}function i(e,t){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];0===i.indexOf(e+".")&&i.length>e.length&&n.push(i)}return n}function a(e,t){return i(e,Object.keys(t)).map(function(e){return t[e]})}function u(e,t){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];0===e.indexOf(i+".")&&i.length<e.length&&n.push(i)}return n}function c(e,t){return u(e,Object.keys(t)).map(function(e){return t[e]})}function f(e,t){var n=this,r=function(){return n.$set(t,e.value)};return e.value=this.$get(t),e.addEventListener("input",r,!1),this.$watch(t,function(t,n){e.value=t}),function(){return e.removeEventListener("change",r,!1)}}var s=function(e){var t,n,r;if("object"!=typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))for(r=[],n=e.length;n--;)e.hasOwnProperty(n)&&("object"==typeof e[n]?r[n]=s(e[n]):r[n]=e[n]);else{r={};for(t in e)e.hasOwnProperty(t)&&("object"==typeof e[t]?r[t]=s(e[t]):r[t]=e[t])}return r},p="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",l=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,d=/[^\w$]+/g,g=new RegExp(["\\b"+p.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),h=/^\d[^,]*|,\d[^,]*/g,v=/^,+|,+$/g,y=/^$|,+/,b=r(function(e){var t=Object.prototype.toString;e.exports=function(e){var n;return"[object Object]"===t.call(e)&&(n=Object.getPrototypeOf(e),null===n||n===Object.getPrototypeOf({}))}}),x=n(b),m=r(function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n}),w=n(m),$=m.shim,j=Object.freeze({default:w,shim:$}),O=r(function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=o?n:r,t.supported=n,t.unsupported=r}),_=n(O),k=O.unsupported,E=O.supported,R=Object.freeze({default:_,unsupported:k,supported:E}),S=r(function(e){function t(e){return null===e||void 0===e}function r(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function o(e,n,o){var f,s;if(t(e)||t(n))return!1;if(e.prototype!==n.prototype)return!1;if(u(e))return!!u(n)&&(e=i.call(e),n=i.call(n),c(e,n,o));if(r(e)){if(!r(n))return!1;if(e.length!==n.length)return!1;for(f=0;f<e.length;f++)if(e[f]!==n[f])return!1;return!0}try{var p=a(e),l=a(n)}catch(e){return!1}if(p.length!=l.length)return!1;for(p.sort(),l.sort(),f=p.length-1;f>=0;f--)if(p[f]!=l[f])return!1;for(f=p.length-1;f>=0;f--)if(s=p[f],!c(e[s],n[s],o))return!1;return typeof e==typeof n}var i=Array.prototype.slice,a=n(j),u=n(R),c=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:o(e,t,n))}}),I=n(S),A=function(){function t(e){var t=this,n=this,r={};o(e,function(o,i){var u={enumerable:!0,configurable:!1,get:function(){return r[i].value},set:function(t){var o=r[i].value;if(t!==o){if(t!==o){var u=s(e);if(r[i].value=t,r[i].last=o,x(t))for(var f=a(i,r),p=0,l=f.length;p<l;p++){var d=f[p].keypath,g=f[p].descriptor;f[p].value=n.$get(d),n.$applyWatchers(d,s(f[p].value),n.$get(d,u)),n.$define(d,g,e)}var h=s(e);n.$applyWatchers(i,n.$get(i,h),n.$get(i,u));for(var v=c(i,r),y=0,b=v.length;y<b;y++){var m=v[y].keypath;n.$applyWatchers(m,n.$get(m,h),n.$get(m,u))}}return o}}};r[i]={keypath:i,last:o,value:o,watchers:[],descriptor:u},t.$define(i,u,e)});for(var i in r)~i.indexOf(".")||t.$define(i,r[i].descriptor);this.$define("__binding",{enumerable:!1,configurable:!1,value:r}),this.$define("__data",{enumerable:!1,configurable:!1,value:e})}return t.create=function(e){return new this(e)},t.prototype.$get=function(e,t){if(void 0===t&&(t=this),"undefined"==typeof e||""===e)return t;for(var n=e.split("."),r=0,o=n.length;r<o;r++){var i=n[r];if("undefined"==typeof t[i]){t=void 0;break}t=t[i]}return t},t.prototype.$set=function(e,t,n){var r=this;void 0===n&&(n=this);for(var o=e.split("."),i=0,a=o.length;i<a;i++){var u=o[i];if(i!==a-1)x(n[u])?n=n[u]:(n[u]={},n=n[u]);else{var c=Object.getOwnPropertyDescriptor(n,u);(!c||c&&!c.get&&!c.set)&&e in r.__binding&&r.$define(e,r.__binding[e].descriptor),n[u]=t}}},t.prototype.$exists=function(e,t){void 0===t&&(t=this);for(var n=e.split("."),r=!1,o=0,i=n.length;o<i;o++){var a=n[o];if(o!==i-1){if(!x(t[a]))break;t=t[a]}else a in t&&(r=!0)}return r},t.prototype.$define=function(t,n,r){void 0===r&&(r=this),t=t.split(".");var o=t.pop(),i=this.$get(t.join("."),r);e(i)||Object.defineProperty(i,o,n)},t.prototype.$applyWatchers=function(e,t,n){for(var r=this,o=this.__binding[e].watchers||[],i=I(t,n),a=0,u=o.length;a<u;a++)o[a].deep&&i||o[a].fn.call(r,t,n)},t.prototype.$delete=function(t,n){void 0===n&&(n=this),t=t.split(".");var r=t.pop(),o=this.$get(t.join("."),n);e(o)||delete o[r]},t.prototype.$watch=function(e,t,n){void 0===n&&(n={deep:!1});var r=n.deep;e in this.__binding&&this.__binding[e].watchers.push({deep:r,fn:t})},t}(),C=r(function(e){!function(t){var n=function(e){function t(e){return e}function n(e,t){return t||(t=x),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?f:"")}function r(e){if(e===v)return y;var t=e.split(" ");if(2!==t.length||d.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(g,"\\").split(" ")),t[4]=n(t[1].length>1?/{[\S\s]*?}/:y[4],t),t[5]=n(e.length>3?/\\({|})/g:y[5],t),t[6]=n(y[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+l,f),t[8]=e,t}function o(e){return e instanceof RegExp?u(e):x[e]}function i(e){(e||(e=v))!==x[8]&&(x=r(e),u=e===v?t:n,x[9]=u(y[9])),b=e}function a(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:i,get:function(){return b},enumerable:!0}),c=e,i(t)}var u,c,f="g",s=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,p=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,l=p.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,d=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),g=/(?=[[\]()*+?.^$|])/g,h={"(":RegExp("([()])|"+l,f),"[":RegExp("([[\\]])|"+l,f),"{":RegExp("([{}])|"+l,f)},v="{ }",y=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+l,f),v,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],b=e,x=[];return o.split=function(e,t,n){function r(e){t||a?f.push(e&&e.replace(n[5],"$1")):f.push(e)}function o(e,t,n){var r,o=h[t];for(o.lastIndex=n,n=1;(r=o.exec(e))&&(!r[1]||(r[1]===t?++n:--n)););return n?e.length:o.lastIndex}n||(n=x);var i,a,u,c,f=[],s=n[6];for(a=u=s.lastIndex=0;i=s.exec(e);){if(c=i.index,a){if(i[2]){s.lastIndex=o(e,i[2],s.lastIndex);continue}if(!i[3])continue}i[1]||(r(e.slice(u,c)),u=s.lastIndex,s=n[6+(a^=1)],s.lastIndex=u)}return e&&u<e.length&&r(e.slice(u)),f},o.hasExpr=function(e){return x[4].test(e)},o.loopKeys=function(e){var t=e.match(x[9]);return t?{key:t[1],pos:t[2],val:x[0]+t[3].trim()+x[1]}:{val:e.trim()}},o.array=function(e){return e?r(e):x},Object.defineProperty(o,"settings",{set:a,get:function(){return c}}),o.settings="undefined"!=typeof riot&&riot.settings||{},o.set=i,o.R_STRINGS=p,o.R_MLCOMMS=s,o.S_QBLOCKS=l,o}(),r=function(){function e(e,t){return e?(c[e]||(c[e]=o(e))).call(t,r):e}function r(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function o(e){var t=i(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function i(e){var t,r=[],o=n.split(e.replace(l,'"'),1);if(o.length>2||o[0]){var i,u,c=[];for(i=u=0;i<o.length;++i)t=o[i],t&&(t=1&i?a(t,1,r):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(c[u++]=t);t=u<2?c[0]:"["+c.join(",")+'].join("")'}else t=a(o[1],0,r);return r[0]&&(t=t.replace(d,function(e,t){return r[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function a(e,t,n){function r(t,n){var r,o=1,i=g[t];for(i.lastIndex=n.lastIndex;r=i.exec(e);)if(r[0]===t)++o;else if(!--o)break;n.lastIndex=o?e.length:i.lastIndex}if(e=e.replace(p,function(e,t){return e.length>2&&!t?f+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var o,i=[],a=0;e&&(o=e.match(s))&&!o.index;){var c,l,d=/,|([[{(])|$/g;for(e=RegExp.rightContext,c=o[2]?n[o[2]].slice(1,-1).trim().replace(/\s+/g," "):o[1];l=(o=d.exec(e))[1];)r(l,d);l=e.slice(0,o.index),e=RegExp.rightContext,i[a++]=u(l,1,c)}e=a?a>1?"["+i.join(",")+'].join(" ").trim()':i[0]:u(e,t)}return e}function u(e,t,n){var r;return e=e.replace(v,function(e,t,n,o,i){return n&&(o=r?0:o+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+h+n,o&&(r="."===(i=i[o])||"("===i||"["===i)):o&&(r=!y.test(i.slice(o)))),e}),r&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(r?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(r?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var c={};e.haveRaw=n.hasRaw,e.hasExpr=n.hasExpr,e.loopKeys=n.loopKeys,e.clearCache=function(){c={}},e.errorHandler=null;var f="‚Åó",s=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,p=RegExp(n.S_QBLOCKS,"g"),l=/\u2057/g,d=/\u2057(\d+)~/g,g={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},h='"in this?this:'+("object"!=typeof t?"global":"window")+").",v=/[,{][$\w]+(?=:)|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,y=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e}();r.version=n.version="v2.4.1","object"==typeof e&&e.exports?e.exports={tmpl:r,brackets:n}:"function"==typeof define&&"undefined"!=typeof define.amd?define(function(){return{tmpl:r,brackets:n}}):t&&(t.tmpl=r,t.brackets=n)}("object"==typeof window?window:void 0)});n(C);var P=C.tmpl,N=function(){function e(e){var t=e.template,n=e.vm;this.template=t,this.vm=n,this.bindings=[]}return e.prototype.mount=function(e){var n=this,r=this.vm,o=document.createElement("div");o.innerHTML=this.template,this.walk(o,function(e){function o(){e.textContent=P(l,r.__data)}if(3!==e.nodeType||/^\s+$/.test(e.textContent)){var i=e.attributes;if(i)for(var a=0,u=i.length;a<u;a++){var c=i[a],f=c.name,s=c.value,p=n.vm.$directives;p[f]&&p[f].call(n.vm,e,s)}}else{for(var l=e.textContent,d=[],g=/\{(.*?)\}/g,h=g.exec(l);h;)d=d.concat(t(h[1])),h=g.exec(l);n.bindings.push({node:e,content:l,deps:d,update:o,bind:function(){for(var e=0,t=d.length;e<t;e++)r.$watch(d[e],o)},unbind:function(){}})}}),this.bind(),this.apply();for(var i=o.children;i[0];)e.appendChild(i[0])},e.prototype.walk=function(e,t){for(var n=this,r=e.childNodes,o=0,i=r.length;o<i;o++){t(r[o]);var a=r[o].nodeType;1===a&&n.walk(r[o],t)}},e.prototype.bind=function(){for(var e=this.bindings,t=0,n=e.length;t<n;t++)e[t].bind()},e.prototype.unbind=function(){for(var e=this.bindings,t=0,n=e.length;t<n;t++)e[t].unbind()},e.prototype.apply=function(){for(var e=this.bindings,t=0,n=e.length;t<n;t++)e[t].update()},e}(),F=function(e,t){W[e]=t},W={};F("b-model",f);var z=function(e){function t(t){var n=t.data,r=t.template;e.call(this,n),this.$directives=W,this.view=new N({template:r,vm:this})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.$mount=function(e){this.view.mount(e)},t}(A);return z});